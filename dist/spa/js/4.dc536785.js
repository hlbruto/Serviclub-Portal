(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"14ab":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{model:{value:e.$store.state.dialogo.formularioAcceso,callback:function(t){e.$set(e.$store.state.dialogo,"formularioAcceso",t)},expression:"$store.state.dialogo.formularioAcceso"}},[a("q-card",{staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"text-primary text-center"},[a("q-item-label",[e._v("\n            Formulario de Acceso\n          ")])],1)]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"q-pa-md q-gutter-y-md column"},[a("q-input",{attrs:{filled:"",type:"email","label-slot":"","lazy-rules":"",clearable:"",dense:"",rules:[function(e){return!!e||"El campo es obligatorio"},function(e){return/.+@.+\..+/.test(e)||"El correo debe ser válido"}]},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{staticClass:"row items-center all-pointer-events"},[e._v("\n                Email\n\n                "),a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Dirección de correo\n                ")])],1)]},proxy:!0}]),model:{value:e.$store.state.emailAutenticar,callback:function(t){e.$set(e.$store.state,"emailAutenticar",t)},expression:"$store.state.emailAutenticar"}}),a("q-input",{attrs:{filled:"",type:e.isPwd?"password":"text","label-slot":"",dense:"",counter:"","lazy-rules":"",clearable:"",rules:[function(e){return!!e||"El campo es obligatorio"},function(e){return e.length>=8||"Debe ser mayor de 7 caracteres"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("div",{staticClass:"row items-center all-pointer-events"},[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})],1)]},proxy:!0}]),model:{value:e.data.password,callback:function(t){e.$set(e.data,"password",t)},expression:"data.password"}})],1)]),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"bg-primary text-white",attrs:{push:"",label:"Entrar",size:"md"},on:{click:function(t){return e.validarDatos()}}})],1),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row justify-center"},[a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"text-primary",attrs:{flat:"",label:"¿Ha olvidado su clave?",size:"sm"},on:{click:function(t){return e.recuperarClave()}}})],1)],1),a("div",{staticClass:"q-pa-md q-gutter-y-md column",staticStyle:{"max-width":"300px"}},[a("q-item-label",{staticClass:"text-caption"},[a("p",[a("q-icon",{attrs:{name:"mdi-information"}}),a("small",[e._v("SI USTED NO POSEE UN USUARIO EN EL SISTEMA, AL ENTRAR SE LE CREARÁ UNO")])],1)])],1)])],1)],1),a("ValidarEmail"),a("AutenticarSiscae")],1)},i=[],o={name:"formularioAcceso",components:{ValidarEmail:a("41f4").default,AutenticarSiscae:a("7491").default},data:function(){return{data:{email:"",password:""},isPwd:!0}},methods:{validarDatos:function(){""===this.data.password||null===this.data.password||void 0===this.data.password||""===this.$store.state.emailAutenticar||null===this.$store.state.emailAutenticar||void 0===this.$store.state.emailAutenticar||this.data.password.length<8?this.mensajeDatosIncompletos():this.entrar()},mensajeDatosIncompletos:function(){this.$q.notify({color:"negative",position:"bottom",message:"Debe llenar todos los campos obligatorios",icon:"mdi-alert-circle"})},mensajeError:function(){this.$q.notify({color:"negative",position:"bottom",message:"No se le ha podido enviar el código a su dirección de correo",icon:"mdi-alert-circle"})},mensajeInactivo:function(){this.$q.notify({color:"negative",position:"bottom",message:"Su usuario no tiene acceso a este sistema porque ha sido desactivado por el administrador",icon:"mdi-alert-circle"})},mensajeSatisfactorio:function(){this.$q.notify({color:"secondary",position:"bottom",message:"Bienvenid@ "+this.$store.state.credencial.nombre,icon:"mdi-check-circle"})},mensajeSinCorreo:function(e){this.$q.notify({color:"secondary",position:"bottom",message:"Su codigo de verificación es "+e,icon:"mdi-check-circle"})},recuperarClave:function(){var e=this;if(""==this.$store.state.emailAutenticar)this.$q.notify({color:"negative",position:"bottom",message:"Debe escribir su correo electrónico",icon:"mdi-check-circle"});else{var t={email:this.$store.state.emailAutenticar};this.$axios.post(this.$store.state.urlAPI+"/recuperar-clave",t).then((function(t){console.log(t.data),1==t.data||0==t.data?e.$store.state.dialogo.validarEmail=!0:"no-existe"==t.data&&e.$q.notify({color:"negative",position:"bottom",message:e.$store.state.emailAutenticar+" no se encuentra registrado en nuestro sistema",icon:"mdi-check-circle"})})).catch((function(e){console.log(e)}))}},entrar:function(){var e=this;this.data.email=this.$store.state.emailAutenticar,this.$axios.post(this.$store.state.urlAPI+"/usuarios/login",this.data).then((function(t){if(console.log(t.data.codigo),console.log(t.data.correo),console.log(t.data),!1===t.data.correo)e.mensajeError();else if("verificar-codigo"===t.data)e.$store.state.dialogo.formularioAcceso=!1,e.$store.state.dialogo.validarEmail=!0;else if("incorrecto"===t.data){var a="Su usuario y/o contraseña son incorrectos";e.$manejarError(a)}else if("inactivo"===t.data)e.mensajeInactivo();else{e.$store.state.dialogo.formularioAcceso=!1,localStorage.clear();var s=JSON.stringify({credencial:t.data.credencial});localStorage.setItem("key",s),e.$store.state.credencial.id_usuario=t.data.credencial.id_usuario,e.$store.state.credencial.activo=t.data.credencial.activo,e.$store.state.credencial.estado=t.data.credencial.estado,e.$store.state.credencial.email=t.data.credencial.email,e.$store.state.credencial.token=t.data.credencial.token,void 0!=t.data.credencial.municipioId&&""!=t.data.credencial.municipioId&&(e.$store.state.credencial.municipio=t.data.credencial.municipio),void 0!=t.data.credencial.instalacionId&&""!=t.data.credencial.instalacionId&&(e.$store.state.credencial.instalacion=t.data.credencial.instalacion,e.$store.state.instalacionPreferida=e.$store.state.credencial.instalacion.nombre,e.$store.state.instalacionDelPedido=e.$store.state.credencial.instalacion),void 0!=t.data.credencial.nombre&&""!=t.data.credencial.nombre&&(e.$store.state.credencial.nombre=t.data.credencial.nombre),void 0!=t.data.credencial.telefono&&""!=t.data.credencial.telefono&&(e.$store.state.credencial.telefono=t.data.credencial.telefono),void 0!=t.data.credencial.direccion&&""!=t.data.credencial.direccion&&(e.$store.state.credencial.direccion=t.data.credencial.direccion),void 0!=t.data.credencial.ci&&""!=t.data.credencial.ci&&(e.$store.state.credencial.ci=t.data.credencial.ci),2!==t.data.credencial.estado?(e.$router.push("/perfil"),e.$q.notify({color:"secondary",position:"bottom",message:"Bienvenid@ "+e.$store.state.credencial.nombre+", por favor llene su perfil para poder navegar por el sitio",icon:"mdi-check-circle"})):e.$refrescarPedidos()}})).catch((function(e){console.log(e)}))},loguearUsuario:function(){}}},r=o,n=a("2877"),c=Object(n["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},"5c69":function(e,t,a){},"713b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"hHr lpR fFf"}},[a("q-header",{staticStyle:{height:"60px"},attrs:{reveal:""}},[a("q-toolbar",{staticClass:"bg-grey-2 text-black row justify-center no-wrap shadow-1",staticStyle:{height:"60px"},attrs:{inset:""}},[e.$q.screen.gt.sm?a("div",{staticClass:"col-3"},[a("q-toolbar-title",{staticClass:"text-h4 row items-center"},[a("img",{staticClass:"q-ml-lg q-mr-sm q-mt-sm",attrs:{width:"15%",height:"20%",src:"icons/nuestro-logo.png"}}),a("h4",{staticClass:"text-primary text-bold",staticStyle:{"font-family":"Serif"}},[e._v("Serviclub")])])],1):e._e(),e.$q.screen.lt.md?a("div",{staticClass:"col-12"},[a("q-toolbar-title",{staticClass:"text-h4 row items-center"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",color:"black",size:"md",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.$store.state.leftDrawerOpen=!e.$store.state.leftDrawerOpen}}}),a("img",{staticClass:"q-ml-lg q-mr-sm q-mt-sm",attrs:{width:"10%",height:"15%",src:"icons/nuestro-logo.png"}}),a("h4",{staticClass:"text-primary text-bold",staticStyle:{"font-family":"Serif"}},[e._v("Serviclub")])],1)],1):e._e(),e.$q.screen.gt.sm?a("div",{staticClass:"col-6"},[a("q-toolbar-title",{staticClass:"row"},[a("q-btn",{staticClass:"cursor-pointer",attrs:{stretch:"",flat:"",label:"Inicio",to:"/",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token}}),a("q-separator",{staticStyle:{height:"70px"},attrs:{vertical:"",inset:""}}),a("q-btn",{staticClass:"cursor-pointer",attrs:{stretch:"",flat:"",label:"Servicios",to:"/servicios",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token}}),a("q-separator",{staticStyle:{height:"70px"},attrs:{vertical:"",inset:""}}),a("q-btn",{staticClass:"cursor-pointer",attrs:{stretch:"",flat:"",label:"Productos",to:"/productos",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token}}),a("q-separator",{staticStyle:{height:"70px"},attrs:{vertical:"",inset:""}}),""===e.$store.state.credencial.token?a("q-btn",{staticClass:"cursor-pointer",attrs:{stretch:"",flat:"",label:"Entrar"},on:{click:function(t){e.$store.state.dialogo.formularioAcceso=!0}}}):e._e(),""!==e.$store.state.credencial.token?a("q-separator",{staticStyle:{height:"70px"},attrs:{vertical:"",inset:""}}):e._e(),""!==e.$store.state.credencial.token?a("q-btn-dropdown",{staticClass:"cursor-pointer",attrs:{stretch:"",flat:"",label:"Opciones"}},[a("q-list",{attrs:{dense:""}},[a("q-item",{attrs:{clickable:"",exact:"",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token}},[a("q-item-section",{on:{click:function(t){return e.refrescarPedidos()}}},[a("q-item-label",[e._v("Mis Pedidos")])],1),2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token?a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Debe llenar los datos del perfil\n                ")]):e._e()],1),a("q-item",{attrs:{clickable:"",exact:"",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token},on:{click:function(t){e.$store.state.dialogo.recomendar=!0}}},[a("q-item-section",[a("q-item-label",[e._v("Recomendar")])],1),2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token?a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Debe llenar los datos del perfil\n                ")]):e._e()],1),a("q-item",{attrs:{clickable:"",exact:"",to:"/perfil"}},[a("q-item-section",[a("q-item-label",[e._v("Perfil")])],1)],1),a("q-separator",{attrs:{inset:"",spaced:""}}),a("q-item",{attrs:{clickable:"",exact:""}},[a("q-item-section",{on:{click:function(t){return e.desconectar()}}},[a("q-item-label",[e._v("Salir "),a("q-icon",{attrs:{name:"logout"}})],1)],1)],1)],1)],1):e._e(),a("FormularioAcceso"),a("Recomendar")],1)],1):e._e()])],1),e.$q.screen.lt.md?a("q-drawer",{attrs:{bordered:"",overlay:"",elevated:"","content-class":"bg-grey-2",width:240,breakpoint:500},model:{value:e.$store.state.leftDrawerOpen,callback:function(t){e.$set(e.$store.state,"leftDrawerOpen",t)},expression:"$store.state.leftDrawerOpen"}},[a("Drawer")],1):e._e(),a("q-page-container",[a("keep-alive",[a("router-view")],1)],1),a("q-footer",{staticClass:"bg-grey-2 text-black row justify-center no-wrap shadow-up-1",attrs:{reveal:""}},[a("q-item-label",{staticClass:"q-mt-md q-mb-md row justify-center"},[a("strong",[e._v("© 2022 ")]),a("p",[e._v(" Joven Club de Computación y Electrónica")])])],1)],1)},i=[],o={name:"MainLayout",components:{Drawer:a("cb59").default,FormularioAcceso:a("14ab").default,Recomendar:a("7ace").default},data:function(){return{slide:"inicio",disable:!1}},created:function(){this.$refrescarServicios(),this.$refrescarProductos();var e=localStorage.getItem("key"),t=JSON.parse(e);console.log(t),""===this.$store.state.credencial.token&&null!==t&&(this.$store.state.credencial=t.credencial,t.credencial.instalacionId&&(this.$store.state.instalacionDelPedido=t.credencial.instalacion,this.$store.state.instalacionPreferida=t.credencial.instalacion.nombre))},methods:{refrescarPedidos:function(){var e=this;console.log("pedidos del user");var t={where:{estado:{neq:"cancelado"},and:[{usuarioId:{eq:this.$store.state.credencial.id_usuario}}]},include:[{relation:"servicio"},{relation:"instalacion"},{relation:"user"}]},a=encodeURIComponent(JSON.stringify(t));this.$axios.get(this.$store.state.urlAPI+"/pedidos?filter="+a).then((function(t){e.$store.state.pedidos=t.data,e.loading=!1,e.$router.push("/escritorio")})).catch((function(e){console.log(e)}))},desconectar:function(){localStorage.clear(),this.$store.state.credencial.token="",this.$store.state.credencial.nombre="",this.$store.state.credencial.id_usuario="",this.$store.state.credencial.email="",this.$store.state.credencial.municipio.nombre="",this.$store.state.credencial.municipio.id="",this.$store.state.credencial.municipio.provinciaId="",this.$store.state.credencial.municipio.provincia.nombre="",this.$store.state.credencial.municipio.provincia.id="",this.$store.state.credencial.telefono="",this.$store.state.credencial.direccion="",this.$store.state.credencial.ci="",this.$store.state.emailAutenticar="",this.$router.push("/")}}},r=o,n=(a("89d3"),a("2877")),c=Object(n["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},7491:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{model:{value:e.$store.state.dialogo.autenticarSiscae,callback:function(t){e.$set(e.$store.state.dialogo,"autenticarSiscae",t)},expression:"$store.state.dialogo.autenticarSiscae"}},[a("q-card",{staticStyle:{width:"300px"}},[a("q-card-section",[a("div",{staticClass:"q-pa-md q-pt-xs q-gutter-y-xs column"},[a("q-item-label",{staticClass:"text-caption"},[a("p",[a("q-icon",{attrs:{name:"mdi-information"}}),a("small",[e._v(" INGRESE SUS DATOS DE ACCESO "),a("br"),e._v("\n                AL SISTEMA SISCAE."),a("br"),e._v(" SI UD. NO POSEE CUENTA DE ESTE TIPO,"),a("br"),e._v("\n                ACÉRQUESE AL JOVEN CLUB MÁS CERCANO.\n              ")])],1)]),a("q-input",{attrs:{dense:"",filled:"",type:"email","label-slot":"","lazy-rules":"",clearable:"",rules:[function(e){return!!e||"El campo es obligatorio"},function(e){return/.+@.+\..+/.test(e)||"El correo debe ser válido"}]},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{staticClass:"row items-center all-pointer-events"},[e._v("\n                Email\n\n                "),a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Dirección de correo\n                ")])],1)]},proxy:!0}]),model:{value:e.data.usuario,callback:function(t){e.$set(e.data,"usuario",t)},expression:"data.usuario"}}),a("q-input",{attrs:{dense:"",filled:"",type:e.isPwd?"password":"text","label-slot":"",counter:"","lazy-rules":"",clearable:"",rules:[function(e){return!!e||"El campo es obligatorio"},function(e){return e.length>=8||"Debe ser mayor de 7 caracteres"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("div",{staticClass:"row items-center all-pointer-events"},[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})],1)]},proxy:!0}]),model:{value:e.data.clave,callback:function(t){e.$set(e.data,"clave",t)},expression:"data.clave"}})],1)]),a("q-card-actions",{attrs:{align:"center"}},[a("q-btn",{staticClass:"bg-primary text-white",attrs:{flat:"",label:"Entrar",size:"md"},on:{click:function(t){return e.entrar()}}})],1)],1)],1)],1)},i=[],o={name:"autenticarSiscae",data:function(){return{data:{usuario:"",clave:"",id_servicio:"",total_servicios:""},isPwd:!0}},methods:{entrar:function(){var e=this;this.data.id_servicio=this.$store.state.unservicio.id_siscae,this.data.total_servicios="1",console.log(this.data),this.$axios.post(this.$store.state.urlAPI+"/login-siscae",this.data).then((function(t){console.log(t.data+"henry en el front"),0==t.data.datos.usuario_encontrado?e.$q.notify({color:"warning",position:"bottom",message:t.data.datos.detalle,icon:"mdi-check-circle"}):1==t.data.datos.usuario_encontrado&&"El cliente tiene saldo suficiente para comprar el servicio"==t.data.datos.detalle?e.$solicitarServicio():1==t.data.datos.usuario_encontrado&&"El cliente no tiene saldo suficiente para comprar el servicio"==t.data.datos.detalle&&e.$q.notify({color:"warning",position:"bottom",message:"Su saldo no es suficiente solo dispone de"+t.data.datos.saldo_disponible+"por favor recargue",icon:"mdi-check-circle"})})).catch((function(e){console.log(e)}))}}},r=o,n=a("2877"),c=Object(n["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},"7ace":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return""!==e.$store.state.credencial.token&&e.$store.state.habilitado?a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-dialog",{model:{value:e.$store.state.dialogo.recomendar,callback:function(t){e.$set(e.$store.state.dialogo,"recomendar",t)},expression:"$store.state.dialogo.recomendar"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"q-mt-xs q-mb-md row justify-end"},[a("q-item-label",{staticClass:"text-primary text-body1 text-center col-10"},[e._v("\n            Recomendarnos\n          ")]),a("q-btn",{staticClass:"text-primary",attrs:{flat:"",dense:"",size:"10px","icon-right":"mdi-window-close"},on:{click:function(t){e.$store.state.dialogo.recomendar=!1}}})],1),a("div",{staticClass:"text-grey text-caption text-center"},[a("q-item-label",[e._v("Recomiende "),a("strong",[e._v("Serviclub")]),e._v(" a sus amigos.")])],1)]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"q-gutter-y-md column"},[a("q-input",{attrs:{filled:"",type:"email","label-slot":"",clearable:"",dense:"","lazy-rules":"",rules:[function(e){return!!e||"El campo es obligatorio"},function(e){return/.+@.+\..+/.test(e)||"El correo debe ser válido"}]},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{staticClass:"row items-center all-pointer-events"},[e._v("\n                Email(s)\n\n                "),a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Escriba los correos electrónicos de sus amigos separados por una coma (,) y sin espacios; para enviar la misma recomendación a todos\n                ")])],1)]},proxy:!0}],null,!1,3593834736),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("div",{staticClass:"q-gutter-y-md column"},[a("q-input",{attrs:{filled:"",type:"textarea","label-slot":"",clearable:"",dense:"","lazy-rules":"",rules:[function(e){return!!e||"El campo es obligatorio"}]},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{staticClass:"row items-center all-pointer-events"},[e._v("\n                Mensaje\n\n                "),a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Si lo desea puede escribir un mensaje de su parte aquí\n                ")])],1)]},proxy:!0}],null,!1,1705293790),model:{value:e.mensaje,callback:function(t){e.mensaje=t},expression:"mensaje"}})],1)]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"q-pa-md q-gutter-y-md column"},[a("q-item-label",{staticClass:"text-h8"},[a("strong",[e._v("Así se verá el mensaje final:")])]),a("q-item-label",{staticClass:"text-subtitle"},[a("p",[e._v("\n                Hola, "),a("strong",[e._v(e._s(e.$store.state.credencial.nombre))]),e._v("\n                le recomienda Serviclub. Un lugar para solicitar servicios\n                y descargar los productos de los Joven Club de Computación y Electrónica\n                de una forma sencilla y desde cualquier lugar.\n              ")]),""!==e.mensaje?a("p",[e._v("\n                De su parte quiere comentarle: "),a("strong",[a("cite",[e._v('"'+e._s(e.mensaje)+'"')])])]):e._e(),a("p",[e._v("\n                No tarde y visítenos en\n                "),a("a",{attrs:{href:"http://serviclub.jovenclub.cu"}},[e._v('\n                  "http://serviclub.jovenclub.cu"\n                ')])])])],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{staticClass:"bg-primary text-white",attrs:{push:"",label:"Enviar",size:"md"},on:{click:function(t){return e.validarDatos()}}})],1)],1)],1)],1):e._e()},i=[],o={name:"Recomendar",data:function(){return{email:"",mensaje:"",from:""}},created:function(){this.email="",this.mensaje=""},methods:{validarDatos:function(){""===this.mensaje||null===this.mensaje||""===this.email||null===this.email?this.mensajeDatosIncompletos():this.enviar()},mensajeDatosIncompletos:function(){this.$q.notify({color:"negative",position:"bottom",message:"Debe llenar todos los campos obligatorios",icon:"mdi-alert-circle"})},mensajeSatisfactorio:function(){this.$q.notify({color:"positive",position:"bottom",message:"El mensaje fue enviado.",icon:"mdi-check-circle"})},enviar:function(){var e=this,t={email:this.email,mensaje:this.mensaje,from:this.$store.state.credencial.email,asunto:"Recomendacion"};this.$axios.post(this.$store.state.urlAPI+"/recomendar",t).then((function(t){console.log(t.data),e.email="",e.mensaje="",e.loading=!1,e.$store.state.dialogo.recomendar=!1})).catch((function(e){console.log(e)})),this.mensajeSatisfactorio()}}},r=o,n=a("2877"),c=Object(n["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},"89d3":function(e,t,a){"use strict";a("b37e")},b37e:function(e,t,a){},cb59:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-item-label",{staticClass:"q-pa-sm q-mt-md q-mb-md text-bold"},[e._v("\n    0 elementos - ($0.00)\n  ")]),e._l(e.menu,(function(t){return a("div",{key:t.label},[a("q-item",{attrs:{clickable:"",exact:"",to:t.link,disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token}},[a("q-item-section",[a("q-item-label",[e._v(e._s(t.label))]),2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token?a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n          Debe llenar los datos del perfil\n        ")]):e._e()],1)],1)],1)})),""===e.$store.state.credencial.token?a("q-item",{attrs:{clickable:"",exact:""},on:{click:function(t){e.$store.state.dialogo.formularioAcceso=!0}}},[a("q-item-section",[a("q-item-label",[e._v("REGISTRAR "),a("q-icon",{attrs:{name:"login",size:"sm"}})],1)],1)],1):e._e(),""!==e.$store.state.credencial.token?a("q-expansion-item",{attrs:{label:"OPCIONES","expand-separator":""}},[a("q-separator",{attrs:{inset:""}}),a("q-list",{staticClass:"q-ml-lg",attrs:{dense:""}},[a("q-item",{attrs:{clickable:"",exact:"",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token}},[a("q-item-section",{on:{click:function(t){return e.refrescarPedidos()}}},[e._v("Mis Pedidos")]),2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token?a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n          Debe llenar los datos del perfil\n        ")]):e._e()],1),a("q-item",{attrs:{clickable:"",exact:"",disable:2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token},on:{click:function(t){e.$store.state.dialogo.recomendar=!0}}},[a("q-item-section",[e._v("Recomendar")]),2!==e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token?a("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n          Debe llenar los datos del perfil\n        ")]):e._e()],1),a("q-item",{attrs:{clickable:"",exact:"",to:"/perfil"}},[a("q-item-section",[e._v("Perfil")])],1)],1)],1):e._e(),a("q-item",{attrs:{clickable:"",exact:""}},[a("q-item-label",{on:{click:function(t){return e.desconectar()}}},[e._v(" SALIR "),a("q-icon",{attrs:{name:"logout",size:"sm"}})],1)],1),a("Recomendar"),a("FormularioAcceso")],2)},i=[],o={name:"Drawer",components:{FormularioAcceso:a("14ab").default,Recomendar:a("7ace").default},data:function(){return{menu:[{label:"INICIO",link:"/",icon:"mdi-view-dashboard"},{label:"SERVICIOS",link:"/servicios",icon:"mdi-alpha-s-box"},{label:"PRODUCTOS",link:"/productos",icon:"mdi-alpha-p-box"}]}},created:function(){},methods:{refrescarPedidos:function(){var e=this;console.log("pedidos del user");var t={where:{estado:{neq:"cancelado"},and:[{usuarioId:{eq:this.$store.state.credencial.id_usuario}}]},include:[{relation:"servicio"},{relation:"instalacion"},{relation:"user"}]},a=encodeURIComponent(JSON.stringify(t));this.$axios.get(this.$store.state.urlAPI+"/pedidos?filter="+a).then((function(t){e.$store.state.pedidos=t.data,e.loading=!1,e.$router.push("/escritorio")})).catch((function(e){console.log(e)}))},desconectar:function(){localStorage.clear(),this.$store.state.credencial.token="",this.$store.state.credencial.nombre="",this.$store.state.credencial.id_usuario="",this.$store.state.credencial.email="",this.$store.state.credencial.municipio.nombre="",this.$store.state.credencial.municipio.id="",this.$store.state.credencial.municipio.provinciaId="",this.$store.state.credencial.municipio.provincia.nombre="",this.$store.state.credencial.municipio.provincia.id="",this.$store.state.credencial.telefono="",this.$store.state.credencial.direccion="",this.$store.state.credencial.ci="",this.$router.push("/")}}},r=o,n=(a("d82c"),a("2877")),c=Object(n["a"])(r,s,i,!1,null,null,null);t["default"]=c.exports},d82c:function(e,t,a){"use strict";a("5c69")}}]);