(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{2336:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-dialog",{model:{value:e.$store.state.dialogo.cancelarPedido,callback:function(t){e.$set(e.$store.state.dialogo,"cancelarPedido",t)},expression:"$store.state.dialogo.cancelarPedido"}},[s("q-card",{staticStyle:{width:"320px"}},[s("q-card-section",[s("div",{staticClass:"q-mt-xs row justify-end"},[s("q-item-label",{staticClass:"text-primary text-body1 text-center col-10"},[e._v("\n            Cancelar el pedido\n          ")]),s("q-btn",{staticClass:"text-primary",attrs:{flat:"",dense:"",size:"10px","icon-right":"mdi-window-close"},on:{click:function(t){e.$store.state.dialogo.cancelarPedido=!1}}})],1)]),s("q-card-section",{staticClass:"text-center"},[s("q-item-label",[e._v("\n          ¿Está seguro que desea Cancelar el servicio de "),s("strong",[e._v(e._s(e.$store.state.pedido.servicio.nombre)+"\n          ")]),e._v("?\n        ")]),s("q-select",{staticClass:"q-mt-md",staticStyle:{width:"280px"},attrs:{filled:"",dense:"","options-dense":"",label:"Seleccione el motivo","label-slot":"","lazy-rules":"",rules:[function(e){return!!e||"El campo es obligatorio"}],options:e.motivos},model:{value:e.motivo,callback:function(t){e.motivo=t},expression:"motivo"}}),"Otro motivo"===e.motivo?s("q-input",{staticStyle:{width:"280px"},attrs:{filled:"",type:"textarea","label-slot":"",clearable:"",dense:""},scopedSlots:e._u([{key:"label",fn:function(){return[s("div",{staticClass:"row items-center all-pointer-events"},[e._v("\n                Escriba el motivo\n\n                "),s("q-tooltip",{attrs:{"content-class":"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]}},[e._v("\n                  Escriba cuál ha sido el motivo por el que desea cancelar\n                ")])],1)]},proxy:!0}],null,!1,3271770628),model:{value:e.otroMotivo,callback:function(t){e.otroMotivo=t},expression:"otroMotivo"}}):e._e()],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-primary",attrs:{flat:"",label:"No",size:"md"}}),s("q-btn",{staticClass:"text-white bg-primary",attrs:{push:"",label:"Sí",size:"md"},on:{click:function(t){return e.validarDatos()}}})],1)],1)],1)],1)},a=[],i={name:"CancelarPedido",data:function(){return{motivo:"",otroMotivo:"",motivos:["Me equivoqué al escoger la instalación","Demora en recibir el servicio","Ya resolví el problema","Otro motivo"],datos:{estado:"",motivo_cancelado:""}}},created:function(){},methods:{validarDatos:function(){""===this.motivo||null===this.motivo?this.mensajeError():this.enviar()},mensajeError:function(){this.$q.notify({color:"negative",position:"bottom",message:"Debe escoger un motivo",icon:"mdi-alert-circle"})},mensajeSatisfactorio:function(){this.$q.notify({color:"positive",position:"bottom",message:"El pedido ha sido cancelado",icon:"mdi-check-circle"})},enviar:function(){var e=this;this.datos.estado="cancelado",this.datos.motivo_cancelado=this.motivo,"Otro motivo"==this.motivo&&(this.datos.motivo_cancelado=this.otroMotivo),this.$axios.patch(this.$store.state.urlAPI+"/pedidos/"+this.$store.state.pedido.id,this.datos).then((function(t){console.log(t.data),e.refrescarPedidos(),e.mensajeSatisfactorio(),e.$store.state.dialogo.cancelarPedido=!1,e.$store.state.dialogo.detallesPedido=!1})).catch((function(e){console.log(e)}))},refrescarPedidos:function(){var e=this;console.log("entra para ir al escritorio");var t={where:{estado:{neq:"cancelado"},and:[{usuarioId:{eq:this.$store.state.credencial.id_usuario}}]},include:[{relation:"servicio"},{relation:"instalacion"},{relation:"user"}]},s=encodeURIComponent(JSON.stringify(t));this.$axios.get(this.$store.state.urlAPI+"/pedidos?filter="+s).then((function(t){console.log(t.data),e.$store.state.pedidos=t.data,e.$store.state.nombreTrab="",e.mensajeSatisfactorio(),e.loading=!1})).catch((function(e){console.log(e)}))}}},l=i,n=s("2877"),r=Object(n["a"])(l,o,a,!1,null,null,null);t["default"]=r.exports},"8d20":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md q-gutter-sm"},[s("q-dialog",{model:{value:e.$store.state.dialogo.detallesPedido,callback:function(t){e.$set(e.$store.state.dialogo,"detallesPedido",t)},expression:"$store.state.dialogo.detallesPedido"}},[s("q-card",{staticStyle:{width:"400px"}},[s("q-card-section",[s("div",{staticClass:"q-mt-xs q-mb-md row justify-end"},[s("q-item-label",{staticClass:"text-primary text-body1 text-center col-10"},[e._v("\n            Detalles\n          ")]),s("q-btn",{staticClass:"text-primary",attrs:{flat:"",dense:"",size:"10px","icon-right":"mdi-window-close"},on:{click:function(t){e.$store.state.dialogo.detallesPedido=!1}}})],1)]),""!==e.$store.state.credencial.token?s("q-card-section",{staticClass:"q-pt-none"},[s("q-item-label",[s("strong",[e._v("Fecha Pedido: ")]),e._v(e._s(e.$store.state.pedido.fecha_pedido))]),s("q-item-label",[s("strong",[e._v("Servicio solicitado: ")]),e._v(e._s(e.$store.state.pedido.servicio.nombre))]),s("q-item-label",[s("strong",[e._v("Precio: ")]),e._v(e._s(e.$store.state.pedido.servicio.tarifa))]),s("q-item-label",[s("strong",[e._v("Momento: ")]),e._v(e._s(e.$store.state.pedido.momento))]),s("q-item-label",[s("strong",[e._v("Problema: ")]),e._v(e._s(e.$store.state.pedido.problema))]),s("q-item-label",[s("strong",[e._v("Estado: ")]),"cancelado"==e.$store.state.pedido.estado?s("small",{staticClass:"text-red"},[e._v(e._s(e.$store.state.pedido.estado))]):e._e(),"pendiente"==e.$store.state.pedido.estado?s("small",{staticClass:"text-blue"},[e._v(e._s(e.$store.state.pedido.estado))]):e._e(),"procesando_pago"==e.$store.state.pedido.estado?s("small",{staticClass:"text-orange"},[e._v(e._s(e.$store.state.pedido.estado))]):e._e(),"asignado"==e.$store.state.pedido.estado?s("small",{staticClass:"text-purple"},[e._v(e._s(e.$store.state.pedido.estado))]):e._e(),"ofrecido"==e.$store.state.pedido.estado?s("small",{staticClass:"text-green"},[e._v(e._s(e.$store.state.pedido.estado))]):e._e()]),void 0!==e.$store.state.pedido.instalacionId?s("q-item-label",[s("strong",[e._v("Joven Club elegido: ")]),e._v(e._s(e.$store.state.pedido.instalacion.nombre)+"\n          ")]):e._e(),""!==e.$store.state.pedido.userId&&void 0!==e.$store.state.pedido.userId&&null!==e.$store.state.pedido.userId?s("q-item-label",[s("strong",[e._v("Trabajador asignado: ")]),e._v(e._s(e.$store.state.pedido.user.name)+"\n          ")]):e._e(),"ofrecido"===e.$store.state.pedido.estado?s("div",[""!==e.$store.state.pedido.resumen?s("q-item-label",[s("strong",[e._v("Resumen: ")]),e._v(e._s(e.$store.state.pedido.resumen))]):e._e(),s("q-item-label",[s("strong",[e._v("Fecha Ofrecido: ")]),e._v(e._s(e.$store.state.pedido.fecha_ofrecido))]),e.$store.state.pedido.calificacion?s("q-item-label",[s("strong",[e._v("Calificación: ")]),s("q-rating",{attrs:{size:"sm",color:"warning",icon:"star",readonly:"",value:e.$store.state.pedido.calificacion}})],1):s("q-card",{staticClass:"q-pa-md q-mt-md q-gutter-y-md text-primary"},[s("q-item-label",[s("strong",[e._v("Por favor, califique el servicio que usted recibió:")])]),s("div",{staticClass:"row justify-center"},[s("div",{staticClass:"col-4"},[s("q-rating",{attrs:{size:"xs",color:"warning",icon:"star",value:e.$store.state.pedido.calificacion},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1),s("div",{staticClass:"col-auto"},[s("q-btn",{staticClass:"bg-primary text-white",attrs:{flat:"",icon:"check",size:"sm"},on:{click:function(t){return e.calificar()}}})],1)])],1)],1):e._e()],1):e._e(),s("q-card-actions",{attrs:{align:"between"}},["pendiente"===e.$store.state.pedido.estado?s("q-btn",{staticClass:"text-red",attrs:{flat:"",label:"Cancelar Pedido",size:"md",icon:"cancel"},on:{click:function(t){return e.cancelarPedido()}}}):e._e()],1)],1)],1),s("CancelarPedido")],1)},a=[],i={name:"DetallesPedido",components:{CancelarPedido:s("2336").default},data:function(){return{rating:0,value:0,datos:{calificacion:0}}},created:function(){void 0!==this.$store.state.pedido.calificacion&&(this.rating=this.$store.state.pedido.calificacion)},methods:{calificar:function(){var e=this;this.$store.state.pedido.calificacion=this.rating,this.datos.calificacion=this.rating,console.log(this.datos.calificacion),this.$axios.patch(this.$store.state.urlAPI+"/pedidos/"+this.$store.state.pedido.id,this.datos).then((function(t){console.log(t.data),e.mensajeSatisfactorio()})).catch((function(e){console.log(e)})),this.rating=0,0===this.datos.calificacion&&this.mensajeError()},validarDatos:function(){""!==this.$store.state.credencial.token?""===this.mensaje||null===this.mensaje?this.mensajeDatosIncompletos():this.enviar():""===this.mensaje||null===this.mensaje||""===this.nombre||null===this.nombre||""===this.email||null===this.email?this.mensajeDatosIncompletos():this.enviar()},cancelarPedido:function(){this.$store.state.dialogo.detallesPedido=!1,this.$store.state.dialogo.cancelarPedido=!0},mensajeError:function(){this.$q.notify({color:"negative",position:"bottom",message:"Debe calificar el servicio al menos con una estrella",icon:"mdi-alert-circle"})},mensajeSatisfactorio:function(){this.$q.notify({color:"positive",position:"bottom",message:"El mensaje fue enviado",icon:"mdi-check-circle"})},enviar:function(){this.mensajeSatisfactorio()}}},l=i,n=s("2877"),r=Object(n["a"])(l,o,a,!1,null,null,null);t["default"]=r.exports},b5cb:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[2===e.$store.state.credencial.estado&&""!==e.$store.state.credencial.token?s("div",[s("div",{staticClass:"q-pa-lg text-white text-caption"},[s("q-item-label",[e._v("INFORMACIÓN SOBRE LOS SERVICIOS QUE UD. HA SOLICITADO")]),s("q-separator",{staticClass:"bg-white",attrs:{inset:""}})],1),e.$q.screen.gt.xs?s("div",{staticClass:"row justify-left q-mb-md text-white"},[s("q-item-label",{staticClass:"q-ml-xl text-body2 col-3"},[s("strong",[e._v("Usuario:")]),e._v(" henry.perez@cubava.cu")]),s("q-item-label",{staticClass:"text-body2 col-3"},[s("strong",[e._v("Saldo disponible:")]),e._v(" $500.00")])],1):s("div",{staticClass:"text-white"},[s("q-item-label",{staticClass:"q-ml-xl q-mt-none text-body2"},[s("strong",[e._v("Usuario:")]),e._v(" henry.perez@cubava.cu")]),s("q-item-label",{staticClass:"q-ml-xl text-body2"},[s("strong",[e._v("Saldo disponible:")]),e._v(" $500.00")])],1),s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"q-gutter-y-md"},[s("div",{staticClass:"q-mr-xl row justify-end text-white text-bold"},[s("q-toggle",{attrs:{val:e.vistaTabla,label:"Ver como Tabla"},model:{value:e.vistaTabla,callback:function(t){e.vistaTabla=t},expression:"vistaTabla"}})],1),e.$q.screen.gt.xs?s("div",[0!==e.$store.state.pedidos.length&&!1===e.vistaTabla?s("div",{staticClass:"row q-col-gutter-md"},e._l(e.$store.state.pedidos,(function(t){return s("div",{key:t.id,staticClass:"col-4"},[s("q-card",{staticClass:"my-content",attrs:{bordered:""}},[s("q-card-section",[s("q-item-label",[s("small",[s("strong",[e._v("Servicio solicitado: ")]),e._v(e._s(t.servicio.nombre))])]),s("div",{staticClass:"row justify-between"},[s("div",{staticClass:"col"},[s("q-item-label",[s("small",[s("strong",[e._v("Precio: ")]),e._v(e._s(t.servicio.tarifa))])]),s("q-item-label",[s("small",[s("strong",[e._v("Momento: ")]),e._v(e._s(t.momento))])]),s("q-item-label",[s("small",[s("strong",[e._v("Estado: ")])]),"cancelado"==t.estado?s("small",{staticClass:"text-red"},[e._v(e._s(t.estado))]):e._e(),"pendiente"==t.estado?s("small",{staticClass:"text-blue"},[e._v(e._s(t.estado))]):e._e(),"procesando_pago"==t.estado?s("small",{staticClass:"text-orange"},[e._v(e._s(t.estado))]):e._e(),"asignado"==t.estado?s("small",{staticClass:"text-purple"},[e._v(e._s(t.estado))]):e._e(),"ofrecido"==t.estado?s("small",{staticClass:"text-green"},[e._v(e._s(t.estado))]):e._e()])],1),s("q-img",{staticClass:"q-mt-sm col",attrs:{src:"img/servicios/"+t.servicio.foto,"lazy-src":"img/servicios/"+t.servicio.foto}})],1)],1),s("q-card-actions",{staticClass:"q-mb-none row justify-between"},["pendiente"==t.estado?s("q-btn",{staticClass:"text-red",attrs:{icon:"cancel",dense:"",size:"sm",flat:"",label:"Cancelar"},on:{click:function(t){e.$store.state.dialogo.cancelarPedido=!0}}}):s("div",[e._v(" ")]),s("q-btn",{staticClass:"text-primary",attrs:{flat:"",dense:"",size:"sm",label:"Detalles"},on:{click:function(s){return e.detallesPedido(t)}}})],1)],1)],1)})),0):0!==e.$store.state.pedidos.length&&!0===e.vistaTabla?s("q-table",{attrs:{dense:"",data:this.$store.state.pedidos,columns:e.columns,filter:e.filter,"no-results-label":"No se obtuvieron resultados en la búsqueda",color:"primary","row-key":"name","no-data-label":"No hay resultados que mostrar",loading:e.loading,"loading-label":"Obteniendo la información","visible-columns":e.visibleColumns},scopedSlots:e._u([{key:"top",fn:function(t){return[s("q-space"),e.$q.screen.gt.xs?s("div",{staticClass:"col"},[s("q-toggle",{attrs:{val:"problema",label:"Problema"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),s("q-toggle",{attrs:{val:"servicio",label:"Servicio"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),s("q-toggle",{attrs:{val:"instalacion",label:"Instalación"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1):s("q-select",{staticStyle:{"min-width":"150px"},attrs:{multiple:"",borderless:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),[s("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[s("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1),s("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]]}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"fecha_pedido",attrs:{props:t}},[e._v(e._s(t.row.fecha_pedido))]),s("q-td",{key:"problema",attrs:{props:t}},[e._v(e._s(t.row.problema))]),s("q-td",{key:"momento",attrs:{props:t}},[e._v(e._s(t.row.momento))]),s("q-td",{key:"servicio",attrs:{props:t}},[e._v(e._s(t.row.servicio.nombre))]),s("q-td",{key:"instalacion",attrs:{props:t}},[e._v(e._s(t.row.instalacion.nombre))]),s("q-td",{key:"estado",attrs:{props:t}},["cancelado"==t.row.estado?s("caption",{staticClass:"text-red"},[e._v(e._s(t.row.estado))]):e._e(),"pendiente"==t.row.estado?s("caption",{staticClass:"text-blue"},[e._v(e._s(t.row.estado))]):e._e(),"asignado"==t.row.estado?s("caption",{staticClass:"text-purple"},[e._v(e._s(t.row.estado))]):e._e(),"ofrecido"==t.row.estado?s("caption",{staticClass:"text-green"},[e._v(e._s(t.row.estado))]):e._e(),s("br"),void 0!==e.$store.state.pedidos.calificacion&&e.$store.state.pedidos.calificacion>0?s("q-rating",{attrs:{size:"xs",color:"warning",icon:"star",readonly:"",value:e.$store.state.pedidos.calificacion}}):e._e()],1),s("q-td",{key:"actions",attrs:{props:t}},[s("q-icon",{attrs:{name:"mdi-eye-check",size:"sm",color:"primary"},on:{click:function(s){return e.detallesPedido(t.row)}}})],1)],1)]}}],null,!1,577283075)}):s("div",{staticClass:"text-center"},[e._v("\n                No hay resultados que mostrar. Si desea solicitar un Servicio, ver la sección "),s("a",{attrs:{href:"#/servicios"}},[e._v(" Servicios ")])])],1):s("div",[0!==e.$store.state.pedidos.length&&!1===e.vistaTabla?s("div",e._l(e.$store.state.pedidos,(function(t){return s("div",{key:t.id,staticClass:"q-mb-md"},[s("q-card",{staticClass:"my-content",attrs:{bordered:""}},[s("q-card-section",[s("q-item-label",[s("small",[s("strong",[e._v("Servicio solicitado: ")]),e._v(e._s(t.servicio.nombre))])]),s("div",{staticClass:"row justify-between"},[s("div",{staticClass:"col"},[s("q-item-label",[s("small",[s("strong",[e._v("Precio: ")]),e._v(e._s(t.servicio.tarifa))])]),s("q-item-label",[s("small",[s("strong",[e._v("Momento: ")]),e._v(e._s(t.momento))])]),s("q-item-label",[s("small",[s("strong",[e._v("Estado: ")])]),"cancelado"==t.estado?s("small",{staticClass:"text-red"},[e._v(e._s(t.estado))]):e._e(),"pendiente"==t.estado?s("small",{staticClass:"text-blue"},[e._v(e._s(t.estado))]):e._e(),"procesando_pago"==t.estado?s("small",{staticClass:"text-orange"},[e._v(e._s(t.estado))]):e._e(),"asignado"==t.estado?s("small",{staticClass:"text-purple"},[e._v(e._s(t.estado))]):e._e(),"ofrecido"==t.estado?s("small",{staticClass:"text-green"},[e._v(e._s(t.estado))]):e._e()])],1),s("q-img",{staticClass:"q-mt-sm col",attrs:{src:"img/servicios/"+t.servicio.foto,"lazy-src":"img/servicios/"+t.servicio.foto}})],1)],1),s("q-card-actions",{staticClass:"q-mb-none row justify-between"},["pendiente"==t.estado?s("q-btn",{staticClass:"text-red",attrs:{icon:"cancel",dense:"",size:"sm",flat:"",label:"Cancelar"},on:{click:function(t){e.$store.state.dialogo.cancelarPedido=!0}}}):s("div",[e._v(" ")]),s("q-btn",{staticClass:"text-primary",attrs:{flat:"",dense:"",size:"sm",label:"Detalles"},on:{click:function(s){return e.detallesPedido(t)}}})],1)],1)],1)})),0):0!==e.$store.state.pedidos.length&&!0===e.vistaTabla?s("q-table",{attrs:{dense:"",data:this.$store.state.pedidos,columns:e.columns,filter:e.filter,"no-results-label":"No se obtuvieron resultados en la búsqueda",color:"primary","row-key":"name","no-data-label":"No hay resultados que mostrar",loading:e.loading,"loading-label":"Obteniendo la información","visible-columns":e.visibleColumns},scopedSlots:e._u([{key:"top",fn:function(t){return[s("q-space"),e.$q.screen.gt.xs?s("div",{staticClass:"col"},[s("q-toggle",{attrs:{val:"problema",label:"Problema"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),s("q-toggle",{attrs:{val:"momento",label:"momento"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),s("q-toggle",{attrs:{val:"servicio",label:"Servicio"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),s("q-toggle",{attrs:{val:"instalacion",label:"Instalación"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1):s("q-select",{staticStyle:{"min-width":"150px"},attrs:{multiple:"",borderless:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),[s("q-input",{attrs:{dense:"",debounce:"300",placeholder:"Buscar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[s("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1),s("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]]}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"fecha_pedido",attrs:{props:t}},[e._v(e._s(t.row.fecha_pedido))]),s("q-td",{key:"problema",attrs:{props:t}},[e._v(e._s(t.row.problema))]),s("q-td",{key:"momento",attrs:{props:t}},[e._v(e._s(t.row.momento))]),s("q-td",{key:"servicio",attrs:{props:t}},[e._v(e._s(t.row.servicio.nombre))]),s("q-td",{key:"instalacion",attrs:{props:t}},[e._v(e._s(t.row.instalacion.nombre))]),s("q-td",{key:"estado",attrs:{props:t}},["cancelado"==t.row.estado?s("caption",{staticClass:"text-red"},[e._v(e._s(t.row.estado))]):e._e(),"pendiente"==t.row.estado?s("caption",{staticClass:"text-blue"},[e._v(e._s(t.row.estado))]):e._e(),"asignado"==t.row.estado?s("caption",{staticClass:"text-purple"},[e._v(e._s(t.row.estado))]):e._e(),"ofrecido"==t.row.estado?s("caption",{staticClass:"text-green"},[e._v(e._s(t.row.estado))]):e._e(),s("br"),void 0!==e.$store.state.pedidos.calificacion&&e.$store.state.pedidos.calificacion>0?s("q-rating",{attrs:{size:"xs",color:"warning",icon:"star",readonly:"",value:e.$store.state.pedidos.calificacion}}):e._e()],1),s("q-td",{key:"actions",attrs:{props:t}},[s("q-icon",{attrs:{name:"mdi-eye-check",size:"sm",color:"primary"},on:{click:function(s){return e.detallesPedido(t.row)}}})],1)],1)]}}],null,!1,2040651676)}):s("div",{staticClass:"text-center"},[e._v("\n                No hay resultados que mostrar. Si desea solicitar un Servicio, ver la sección "),s("a",{attrs:{href:"#/servicios"}},[e._v(" Servicios ")])])],1)])])]):s("div",[s("NoAcceso")],1),s("DetallesPedido"),s("CancelarPedido")],1)},a=[],i=(s("d81d"),[{name:"servicios",label:"Servicios"},{name:"productos",label:"Productos"}]),l={name:"Escritorio",components:{DetallesPedido:s("8d20").default,NoAcceso:s("ef12").default,CancelarPedido:s("2336").default},data:function(){return{loading:!1,vistaTabla:!1,tab:"servicios",tabs:i,filter:"",visibleColumns:["Problema","Servicio","Instalación"],columns:[{name:"fecha_pedido",required:!0,label:"Fecha Pedido",align:"left",field:"fecha_pedido",format:function(e){return"".concat(e)},sortable:!0},{name:"problema",required:!1,label:"Problema",align:"left",field:"problema",sortable:!0},{name:"momento",required:!1,label:"Momento",align:"left",field:"momento",sortable:!0},{name:"servicio",required:!1,label:"Servicio",align:"left",field:"servicio",sortable:!0},{name:"instalacion",required:!1,label:"Instalación",align:"left",field:"instalacion",sortable:!0},{name:"estado",required:!0,label:"Estado",align:"left",field:"estado",sortable:!0},{name:"actions",required:!0,label:"Detalles",align:"left",field:"actions",sortable:!1}]}},computed:{allTabs:function(){return i.map((function(e){return{tab:e}}))}},created:function(){this.loading=!0,this.refrescarPedidos()},methods:{refrescarPedidos:function(){var e=this;console.log("pedidos del user");var t={where:{estado:{neq:"cancelado"},and:[{usuarioId:{eq:this.$store.state.credencial.id_usuario}}]},include:[{relation:"servicio"},{relation:"instalacion"},{relation:"user"}]},s=encodeURIComponent(JSON.stringify(t));this.$axios.get(this.$store.state.urlAPI+"/pedidos?filter="+s).then((function(t){e.$store.state.pedidos=t.data,e.$store.state.nombreTrab="",console.log(t.data),e.loading=!1})).catch((function(e){console.log(e)}))},detallesPedido:function(e){this.$store.state.pedido=e,console.log("mi pedido"),console.log(this.$store.state.pedido),this.$store.state.dialogo.detallesPedido=!0}}},n=l,r=(s("e3f9"),s("2877")),c=Object(r["a"])(n,o,a,!1,null,"e95e5b5a",null);t["default"]=c.exports},e3f9:function(e,t,s){"use strict";s("f887")},f887:function(e,t,s){}}]);